<!DOCTYPE html>
<html class="dark" lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Minha Saúde - MedClinic</title>

    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />

    <link rel="stylesheet" href="../css/base/reset.css">
    <link rel="stylesheet" href="../css/base/variables.css">
    <link rel="stylesheet" href="../css/base/typography.css">
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/layout/patient-common.css">
    <link rel="stylesheet" href="../css/pages/patient-dashboard.css">

    <link rel="stylesheet" href="../css/components/buttons.css">
    <link rel="stylesheet" href="../css/components/cards.css">
    <link rel="stylesheet" href="../css/components/appointment-card.css">
    <link rel="stylesheet" href="../css/components/modals.css">
    <link rel="stylesheet" href="../css/components/prescription-list.css">
    <link rel="stylesheet" href="../css/components/prescription-detail.css">
    <link rel="stylesheet" href="../css/components/forms.css">
    <link rel="stylesheet" href="../css/components/toasts.css">
    <link rel="stylesheet" href="../css/components/tables.css">
    <link rel="stylesheet" href="../css/global.css">
</head>

<body class="dashboard-body">

    <!-- Header -->
    <header class="patient-header">
        <div class="header-container">
            <div class="header-actions">
                <!-- Hamburger Button (Mobile) -->
                <button id="mobile-menu-btn" class="hamburger-btn-mobile" aria-label="Abrir menu">
                    <span class="material-symbols-outlined">menu</span>
                </button>
                <a href="patient-dashboard.html" class="header-brand">
                    <span class="material-symbols-outlined brand-icon">local_hospital</span>
                    <span class="brand-name">MedClinic</span>
                </a>
            </div>
            <div class="user-actions">
                <nav class="header-nav">
                    <a href="patient-dashboard.html" class="nav-link nav-link-active">Inicio</a>
                    <a href="my-appointments.html" class="nav-link">Consultas</a>
                    <a href="my-exams.html" class="nav-link">Exames</a>
                </nav>
                <div class="desktop-user-actions">
                    <div class="user-badge">
                        <span data-user-initials>U</span>
                    </div>
                    <button data-logout-button class="logout-btn" aria-label="Sair">
                        <span class="material-symbols-outlined">logout</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="dashboard-main">

        <!-- Welcome Section -->
        <section class="welcome-info">
            <h1 class="welcome-title">Ola, <span data-user-name>Usuario</span>!</h1>
            <p class="welcome-subtitle">Bem-vindo ao seu portal de saude.</p>
        </section>

        <!-- Quick Actions -->
        <section class="quick-actions-grid">
            <a href="../pages/schedule-appointment.html" class="action-card action-card-primary">
                <span class="material-symbols-outlined action-icon">calendar_add_on</span>
                <span class="action-label">Agendar Consulta</span>
            </a>
            <a href="my-appointments.html" class="action-card action-card-secondary">
                <span class="material-symbols-outlined action-icon action-icon-muted">event_note</span>
                <span class="action-label">Minhas Consultas</span>
            </a>
            <a href="my-exams.html" class="action-card action-card-secondary">
                <span class="material-symbols-outlined action-icon action-icon-muted">science</span>
                <span class="action-label">Meus Exames</span>
            </a>
        </section>

        <div class="dashboard-layout-grid">

            <!-- Next Appointment -->
            <div class="column-main">
                <h2 class="card-title-group">
                    <span class="material-symbols-outlined card-title-icon">event</span>
                    Próxima Consulta
                </h2>
                <div class="appointment-card" data-next-appointment style="display: none;">
                    <div class="doctor-avatar"
                        style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuDmnbbvRP02hJ7H_zoaKaRiRNKJX1-HGCsPGr0jtGdC-Z-RpxW0PIC4hi9UbGZECqEBJgvX6kMZNaB2B-qtgQq3Y7WLn0d-KK6i7UtIkQtipVRaZzxGHwaTJaOLH3RhQ5bfFecerS4T715D_V5jKKKvdukxXs1GuE__XOYOLbfHkbkHEBnm_9D6hV48EX-iJ-0NFcO0cZF6_ht4OP3GgN7FJhsNpMYNE3d80axsU_5euQIG_v1YcDFmISo1Mk1KGAX6Tmr8oFiyAWo')">
                    </div>
                    <div class="appointment-details">
                        <span class="status-badge">Confirmada</span>
                        <h3 class="appointment-name">Drª. Camila Rodrigues</h3>
                        <p class="appointment-specialty">Cardiologia</p>
                        <div class="appointment-meta">
                            <div class="meta-item">
                                <span class="material-symbols-outlined meta-icon">calendar_today</span>
                                Qui, 24 Out 2024
                            </div>
                            <div class="meta-item">
                                <span class="material-symbols-outlined meta-icon">schedule</span>
                                14:00
                            </div>
                            <div class="meta-item">
                                <span class="material-symbols-outlined meta-icon">location_on</span>
                                Unidade Jardins
                            </div>
                        </div>
                    </div>
                    <div class="card-actions-vertical">
                        <button class="btn-small-primary">Detalhes</button>
                        <button class="btn-small-outline">Remarcar</button>
                    </div>
                </div>
                <!-- Empty State (shown when no appointments) -->
                <div class="empty-state" data-empty-appointments style="display: none;">
                    <span class="material-symbols-outlined empty-state__icon">event_busy</span>
                    <p class="empty-state__message">Nenhuma consulta agendada no momento</p>
                    <a href="../pages/schedule-appointment.html" class="btn btn--primary btn--sm">
                        <span class="material-symbols-outlined">calendar_add_on</span>
                        Agendar Consulta
                    </a>
                </div>

            </div>

            <!-- Prescriptions Summary -->
            <div class="dashboard-sidebar">
                <h2 class="card-title-group">
                    <span class="material-symbols-outlined card-title-icon">receipt_long</span>
                    Minhas Prescrições
                </h2>
                <div id="prescriptions-container" class="prescriptions-list">
                    <!-- Will be populated by TypeScript -->
                </div>
            </div>

        </div>

        <!-- Recent Activity -->
        <section class="activity-section">
            <h2 class="card-title-group">
                <span class="material-symbols-outlined card-title-icon">history</span>
                Atividade Recente
            </h2>
            <div class="activity-card">
                <table class="activity-table">
                    <tbody data-activity-list>
                        <tr class="activity-table-row">
                            <td class="activity-content-cell">
                                <span class="material-symbols-outlined activity-icon-success">check_circle</span>
                                Consulta realizada com Dr. Ricardo Mendes
                            </td>
                            <td class="activity-date-cell">10 Out 2024</td>
                        </tr>
                        <tr class="activity-table-row">
                            <td class="activity-content-cell">
                                <span class="material-symbols-outlined activity-icon-info">science</span>
                                Resultado de Hemograma disponível
                            </td>
                            <td class="activity-date-cell">08 Out 2024</td>
                        </tr>
                        <tr class="activity-table-row">
                            <td class="activity-content-cell">
                                <span class="material-symbols-outlined activity-icon-warning">receipt_long</span>
                                Nova prescrição recebida
                            </td>
                            <td class="activity-date-cell">05 Out 2024</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

    </main>

    <!-- Appointment Modal Template (hidden by default) -->
    <template id="appointment-modal-template">
        <div class="modal-overlay" data-modal-overlay>
            <div class="modal modal--appointment">
                <!-- Header -->
                <div class="modal__header">
                    <div class="modal__title-group">
                        <div class="modal__icon">
                            <span class="material-symbols-outlined" data-modal-icon>event_note</span>
                        </div>
                        <div>
                            <h2 class="modal__title" data-modal-title>Detalhes da Consulta</h2>
                            <p class="modal__subtitle" data-modal-subtitle>Consulta #0</p>
                        </div>
                    </div>
                    <button class="modal__close" data-modal-close aria-label="Fechar">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                </div>

                <!-- Content -->
                <div class="modal__content">
                    <!-- Professional Card -->
                    <div class="professional-card">
                        <div class="professional-card__avatar" data-professional-avatar></div>
                        <div class="professional-card__info">
                            <h3 class="professional-card__name" data-professional-name>Nome do Profissional</h3>
                            <p class="professional-card__specialty" data-professional-specialty>Especialidade</p>
                            <div class="professional-card__meta">
                                <span class="material-symbols-outlined">location_on</span>
                                <span data-professional-room>Sala N/A</span>
                            </div>
                        </div>
                    </div>

                    <!-- Details Content (shown in details mode) -->
                    <div class="appointment-details" data-details-content>
                        <div class="info-grid">
                            <div class="info-card">
                                <span class="info-card__label">Data</span>
                                <div class="info-card__value">
                                    <span class="material-symbols-outlined">calendar_today</span>
                                    <span data-appointment-date>-</span>
                                </div>
                            </div>
                            <div class="info-card">
                                <span class="info-card__label">Horário</span>
                                <div class="info-card__value">
                                    <span class="material-symbols-outlined">schedule</span>
                                    <span data-appointment-time>-</span>
                                </div>
                            </div>
                            <div class="info-card info-card--full">
                                <div class="info-card__value-group">
                                    <div>
                                        <span class="info-card__label">Situação</span>
                                        <span class="info-card__status" data-appointment-status-text>-</span>
                                    </div>
                                    <span class="status-pill" data-appointment-status-badge>STATUS</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Reschedule Form (shown in reschedule mode) -->
                    <div class="reschedule-form" data-reschedule-content style="display: none;">
                        <div class="alert alert--warning">
                            <span class="material-symbols-outlined">info</span>
                            <p>Você está reagendando a consulta de <strong data-current-datetime>data/hora</strong>.</p>
                        </div>

                        <div class="form-group">
                            <label for="new-date" class="form-label">Nova Data</label>
                            <input type="date" id="new-date" class="form-input" data-new-date-input />
                        </div>

                        <div class="form-group">
                            <label class="form-label">Horários Disponíveis</label>
                            <div class="slots-grid" data-slots-container>
                                <p class="slots-grid__empty">Selecione uma data para ver os horários.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Footer (shown in reschedule mode) -->
                <div class="modal__footer" data-modal-footer style="display: none;">
                    <button class="btn btn--outline" data-cancel-reschedule>Cancelar</button>
                    <button class="btn btn--primary" data-confirm-reschedule disabled>
                        <span class="material-symbols-outlined">save</span>
                        Confirmar
                    </button>
                </div>
            </div>
        </div>
    </template>

    <script src="../js/components/mobile-menu.js"></script>
</body>

</html>